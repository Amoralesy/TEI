<?xml version="1.0" encoding="UTF-8"?><!--
Copyright TEI Consortium. 
Dual-licensed under CC-by and BSD2 licences 
See the file COPYING.txt for details
$Date$
$Id$
-->
<?xml-model href="http://jenkins.tei-c.org/job/TEIP5-dev/lastSuccessfulBuild/artifact/P5/release/xml/tei/odd/p5.nvdl" type="application/xml" schematypens="http://purl.oclc.org/dsdl/nvdl/ns/structure/1.0"?>
<classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"  xmlns:sch="http://purl.oclc.org/dsdl/schematron"
           xmlns="http://www.tei-c.org/ns/1.0" ident="att.repeatable" type="atts" module="tagdocs">
  <desc versionDate="2013-11-21" xml:lang="en">supplies attributes for
  the elements which define component parts of a content model.</desc>
  <constraintSpec ident="MAXandMINoccurs" scheme="schematron">
    <!-- This rule applies to <datatype>, too -->
    <desc>The value of <att>minOccurs</att> should be less than or
    equal to that of <att>maxOccurs</att>. Since the default value of
    <att>maxOccurs</att> is 1, if it is not specifed
    <att>minOccurs</att> should be less than or equal to 1, i.e. 0 or
    1.</desc>
    <constraint>
      <sch:rule context="*[@minOccurs and @maxOccurs]">
        <!-- we know that @minOccurs is castable as an integer, and we know that -->
        <!-- @maxOccurs is either "unbounded" or castable as an integer, because -->
        <!-- they have passed standard grammar-based validation. -->
        <sch:let name="min" value="@minOccurs cast as xs:integer"/>
        <sch:let name="max" value="if ( normalize-space(@maxOccurs) eq 'unbounded' )
                                   then -1
                                   else @maxOccurs cast as xs:integer"/>
        <sch:assert test="$max eq -1  or  $max ge $min">@maxOccurs should be greater than or equal to @minOccurs</sch:assert>
      </sch:rule>
      <sch:rule context="*[@minOccurs and not(@maxOccurs)]">
        <sch:assert test="@minOccurs cast as xs:integer lt 2">When @maxOccurs is not specified, @minOccurs must be 0 or 1</sch:assert>
      </sch:rule>
      <sch:rule context="*[@maxOccurs and not(@minOccurs)]">
        <sch:assert test="@maxOccurs cast as xs:integer = 0">@maxOccurs should be greater than or equal to @minOccurs, which has a default value of 1</sch:assert>
      </sch:rule>
    </constraint>
  </constraintSpec>
  <attList>
    <attDef ident="context">
      <desc versionDate="2013-11-21" xml:lang="en">supplies an XPath
      identifying a context within which this component of a
      content model must be found</desc>
      <datatype><textNode/></datatype>
    </attDef>
    <attDef ident="minOccurs">
      <gloss versionDate="2013-11-21" xml:lang="en">minimum number of occurences</gloss>
      <gloss versionDate="2007-12-20" xml:lang="ko">빈도의 최소 수</gloss>
      <gloss versionDate="2007-05-02" xml:lang="zh-TW">出現次數最小值</gloss>
      <gloss versionDate="2007-06-12" xml:lang="fr">nombre minimum d'occurrences</gloss>
      <gloss versionDate="2007-11-06" xml:lang="it">numero minimo di occorrenze</gloss>
      <gloss versionDate="2007-05-04" xml:lang="es">número mínimo de apariciones</gloss>
      <desc versionDate="2013-11-21" xml:lang="en">indicates the smallest number of times this component may
      occur.</desc>
      <datatype><dataRef key="teidata.count"/></datatype>
      <defaultVal>1</defaultVal>
      <remarks versionDate="2016-12-08" xml:lang="en">
        <p><att>minOccurs</att> cannot be greater than <att>maxOccurs</att>. If a <att>minOccurs</att> 
          greater than 1 is specified, a <att>maxOccurs</att> with an equal or greater value must also 
          be specified.</p>
      </remarks>
    </attDef>
    <attDef ident="maxOccurs">
      <gloss versionDate="2007-12-20" xml:lang="en">maximum number of occurences</gloss>
      <gloss versionDate="2007-12-20" xml:lang="ko">빈도의 최대 수</gloss>
      <gloss versionDate="2007-05-02" xml:lang="zh-TW">出現次數最大值</gloss>
      <gloss versionDate="2007-06-12" xml:lang="fr">nombre maximum d'occurrences.</gloss>
      <gloss versionDate="2007-11-06" xml:lang="it">numero minimo di occorrenze</gloss>
      <gloss versionDate="2007-05-04" xml:lang="es">número máximo de apariciones.</gloss>
      <desc versionDate="2013-11-21" xml:lang="en">indicates the largest  number of times this component  may
      occur.</desc>
      <datatype><dataRef key="teidata.unboundedInt"/></datatype>
      <defaultVal>1</defaultVal>
      <remarks versionDate="2016-12-08" xml:lang="en">
        <p><att>maxOccurs</att> cannot be less than <att>minOccurs</att>. Since the default value of 
          <att>minOccurs</att> is 1, if <att>maxOccurs</att> is set to 0, <att>minOccurs</att> must also be 0.</p>
      </remarks>
    </attDef>
  </attList>
</classSpec>
